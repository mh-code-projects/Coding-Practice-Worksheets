<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    p.red {
      color: red;
    }

    p.blue {
      color: blue;
    }

    p.green {
      color: green;
    }

    p.black {
      color: black;
    }

    p.purple {
      color: purple;
    }

    p.pink {
      color: pink;
    }

    p.hidden {
      visibility: hidden;
    }

    /* Minimal section separation */
    body > div {
      padding: 12px;
      border: 1px solid #e5e7eb;
      border-radius: 8px;
      background: #fff;
      margin: 12px 0;
    }

    body > div:nth-of-type(even) {
      background: #f9fafb;
    }

    body {
      background: #f3f4f6;
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
    }
  </style>
  <script>
    const colorOptions = ["red", "blue", "green", "black", "purple", "pink"];
    let currentColorIndex = 0;

    let madLibButton;
    let userNoun1;
    let userNoun2;
    let userAdjective1;
    let userAdjective2;
    let userVerb1;

    let noun1;
    let noun2;
    let adjective1;
    let adjective2;
    let verb1;
    let madLibParagraph;
    let madLibParagraphCharacter;
    let madLibParagraphCharacterIndex;
    let madLibParagraphTextContent;
    let typingIntervalId;

    function clickedButtonThatChangesTextColor() {
      console.log(currentColorIndex);
      console.log(colorOptions[currentColorIndex]);
      textThatChangesColor.classList.remove(colorOptions[currentColorIndex]); //remove currentColor
      currentColorIndex = (currentColorIndex + 1) % colorOptions.length;
      textThatChangesColor.classList.add(colorOptions[currentColorIndex]); //set the next color to currentColor;
      console.log(currentColorIndex);
      console.log(colorOptions[currentColorIndex]);
    }

    document.addEventListener("DOMContentLoaded", initializeJavaScript);
    function initializeJavaScript() {
      const buttonThatChangesTextColor = document.getElementById(
        "buttonThatChangesTextColor"
      );
      const textThatChangesColor = document.getElementById(
        "textThatChangesColor"
      );
      buttonThatChangesTextColor.addEventListener(
        "click",
        clickedButtonThatChangesTextColor
      );

      madLibButton = document.getElementById("madLibButton");
      userNoun1 = document.getElementById("userNoun1");
      userNoun2 = document.getElementById("userNoun2");
      userAdjective1 = document.getElementById("userAdjective1");
      userAdjective2 = document.getElementById("userAdjective2");
      userVerb1 = document.getElementById("userVerb1");
      noun1 = document.getElementById("noun1");
      noun2 = document.getElementById("noun2");
      adjective1 = document.getElementById("adjective1");
      adjective2 = document.getElementById("adjective2");
      verb1 = document.getElementById("verb1");
      madLibButton.addEventListener("click", madLibButtonPress);
      madLibParagraph = document.getElementById("madLibParagraph");
    }

    function madLibButtonPress() {
      madLibParagraphCharacterIndex = 0;
      noun1.textContent = userNoun1.value;
      noun2.textContent = userNoun2.value;
      adjective1.textContent = userAdjective1.value;
      adjective2.textContent = userAdjective2.value;
      verb1.textContent = userVerb1.value;
      madLibParagraphTextContent = madLibParagraph.textContent;
      madLibParagraph.innerHTML = "";
      setInterval(typeMadLibParagraph, 50);
    }

    function typeMadLibParagraph() {
      madLibParagraph.classList.remove("hidden");
      if (
        madLibParagraphCharacterIndex >= madLibParagraphTextContent.length
      ) {
        clearInterval(typingIntervalId); // stop ticking
        typingIntervalId = null;
        return;
      }
      console.log(madLibParagraphCharacterIndex);
      const madLibNextCharacter = madLibParagraphTextContent.charAt(
        madLibParagraphCharacterIndex
      );
      madLibParagraph.textContent += madLibNextCharacter;
      madLibParagraphCharacterIndex++;
    }
  </script>
</head>

<body>
  <script src="/javascript/js_for_of_practice_solutions.js"></script>

  <div>
    <h4>This section will change text colors</h4>
    <button type="submit" id="buttonThatChangesTextColor">
      Change Text Color
    </button>
    <!-- <button type="reset">Reset Button</button> -->

    <p id="textThatChangesColor">Change this text color</p>
  </div>

  <div>
    <h4>This section we will create a mad lib</h4>
    An animal <input id="userNoun1" type="text" value="" /> <br />
    An object <input id="userNoun2" type="text" value="" /> <br />
    An abjective <input id="userAdjective1" type="text" value="" /> <br />
    An adjective <input id="userAdjective2" type="text" value="" /> <br />
    A verb <input id="userVerb1" type="text" value="" /> <br />
    <br />
    <button type="submit" id="madLibButton">MadLib!</button>

    <p class="hidden" id="madLibParagraph">
      In this story, a <i><span id="noun1">noun</span></i> went on a
      <i><span id="adjective1">adjective</span></i> adventure. They went on a
      quest for the <i><span id="adjective2">adjective</span></i>
      <i><span id="noun2">noun</span></i>. He needed to get it so that he could
      <i><span id="verb1">verb</span></i>.<br />
      ............ Nobody said it was going to be a good mad lib.
    </p>
  </div>
</body>

</html>
